# Facade

복잡한 하위 시스템(여러 저장소, 검증, 캐시 등)을 단순한 인터페이스로 감싸 사용하기 쉽게 만든 Facade 패턴 예제  
React Native에서 사용자 데이터, 토큰, 설정, 앱 상태를 MMKV와 캐시를 통해 효율적으로 관리하는 사례

---

## Facade 패턴 개념

- 복잡한 서브시스템 인터페이스를 단순화하여 클라이언트가 쉽게 사용할 수 있도록 하는 구조적 디자인 패턴
- 여러 기능을 하나의 통합된 인터페이스로 제공하여 사용 편의성과 유지보수성을 높임
- 내부 시스템의 구현을 감추고, 외부에는 일관된 API만 노출

---

## Facade 패턴 핵심 원칙

1. **복잡성 은닉**

   - 내부 서브시스템의 복잡한 로직과 여러 모듈을 감추고 단순한 함수나 클래스 인터페이스만 노출

2. **일관된 API 제공**

   - 클라이언트가 여러 하위 시스템을 각각 다루는 대신, 단일 인터페이스를 통해 통합 관리 가능

3. **유지보수 용이**

   - 내부 구조 변경 시에도 Facade 인터페이스는 유지되므로 클라이언트 코드 변경 최소화

---

## React Native 예제 구성

- `StorageFacade.ts` 모듈: MMKV 저장소, 메모리 캐시, 데이터 검증 서비스를 통합한 단일 진입점
- 사용자 정보, 토큰, 사용자 설정, 앱 상태 등 다양한 데이터의 저장, 조회, 삭제 기능 제공
- 캐시 우선 조회 및 유효성 검사, 저장 시 데이터 정제, 에러 처리 로직 내장
- 캐시 통계 조회, 만료된 캐시 자동 정리 기능 포함

---

## 사용 예시

- 앱 내 여러 컴포넌트가 사용자 데이터나 설정을 직접 저장/조회하지 않고 Facade를 통해 처리
- MMKV와 캐시를 각각 따로 다룰 필요 없이, 단일 API로 데이터 일관성과 성능을 관리
- 데이터 유효성 검증과 정제, 캐시 TTL 관리, 에러 핸들링을 Facade가 책임져 개발자는 비즈니스 로직에 집중
- 저장소 구조가 변경되어도 Facade 인터페이스만 유지하면 앱 전체에 영향 없음

---

## React Native에서 활용

- MMKV, AsyncStorage, 캐시, API 통신 등 복수 저장소를 통합하는 상황에 적합
- 데이터 저장/조회의 복잡도를 줄이고 유지보수를 용이하게 함
- 타입스크립트와 조합해 안정적이고 명확한 데이터 흐름 관리 가능
- 앱 초기화, 로그인, 사용자 환경 설정, 앱 상태 관리 등 공통 저장소 기능을 효과적으로 구현 가능
