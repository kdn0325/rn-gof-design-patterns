# Composite Pattern

React Native에서 JSON 기반 UI 트리를 재귀적으로 렌더링하여 복잡한 중첩 구조를 유연하게 처리하는 컴포지트 패턴 예제

---

## Composite 패턴 개념

- 객체를 트리 구조로 구성해 부분(Leaf)과 전체(Composite)를 동일하게 다루는 구조적 디자인 패턴
- 개별 객체와 객체 그룹을 일관된 인터페이스로 다룰 수 있어 복잡한 계층적 구조를 단순화
- UI 트리, 문서 구조, 파일 시스템 등 다양한 계층적 데이터를 표현하는 데 적합

---

## Composite 패턴 핵심 원칙

1. **일관된 인터페이스 제공**

   - 단일 노드(Leaf)와 복합 노드(Composite)를 같은 방식으로 조작 가능

2. **재귀적 트리 구조**

   - Composite가 자식 노드를 포함하고, 자식 노드 역시 Composite일 수 있음

3. **클라이언트는 전체 구조를 의식하지 않고 단일 객체처럼 사용**

   - 복잡한 내부 구조 숨기고 단순한 인터페이스 제공

---

## React Native 예제 구성

- `CompositeNode`: 노드 타입에 따라 적절한 UI 컴포넌트를 렌더링하고, 자식 노드를 재귀적으로 처리하는 컴포지트 역할
- Leaf: `Container`, `CustomText`, `CustomButton`, `Image` 등 개별 UI 요소
- `App.tsx`: JSON 형태의 UI 트리를 `CompositeNode` 컴포넌트에 전달해 전체 UI를 동적으로 생성

---

## 사용 예시

- 공지사항, 이미지, 버튼 등이 중첩된 복잡한 UI 구조를 JSON 데이터로 표현해야 할 때
- UI 변경 시 컴포넌트 코드를 수정하지 않고 JSON 데이터만 수정하여 유연하게 대응 가능
- 트리 구조를 재귀적으로 렌더링해 코드 중복과 복잡도 감소
- 함수형 컴포넌트와 잘 어울려 모던 React Native 개발에 적합

---

## React Native에서 활용

- 대시보드, 문서 편집기, 동적 폼 등 다중 중첩 UI가 필요한 화면
- 서버에서 전달받은 JSON 데이터 기반 동적 UI 빌더
- 중첩된 UI 컴포넌트 구조를 명확하고 간결하게 관리하고자 할 때
- 컴포넌트 구조 변경 없이 데이터만 수정해 유연한 UI 유지보수 가능

---
